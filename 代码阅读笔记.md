
# 数据库设计

* 关系数据库设计：参考`docker/init.sql`
* ES索引设计：参考`conf/mapping.json`

# 前端开发注意事项

* node.js V18
* 开发环境启动命令
```shell
npm install
npm run dev

# 清除 npm 缓存
rm -rf node_modules
npm cache clean --force

# 使用国内镜像源
npm config set registry https://registry.npmmirror.com/
npm config set strict-ssl false

# 打包发布
npm run build
```

# 后端开发注意事项

* pip国内源安装依赖
```shell
cd 项目根目录
pip install -i 'https://repo.huaweicloud.com/repository/pypi/simple' -r requirements.txt
```


# 代码盘点

## agent模块

## api模块

### apps包
* `kb_app.py`：支持`/create`、`/update`、`/detail`、`/list`=租户下的KB列表、`/rm`
* `document_app.py`：支持`/upload`、`/web_crawl`、`/create`、`/list`、`/infos`、`/thumbnails`、`/change_status`、`/rm`、`/run`、`/rename`、`/get/<doc_id>`、`/change_parser`、`/image/<image_id>`、`/upload_and_parse`

* 服务器配置：`api/settings.py`

## rag模块

### huqie.txt文件
字段：Term\sFrequency\sPOS-tag